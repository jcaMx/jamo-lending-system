import{r as o,j as e,H as u}from"./app-0d3sklFQ.js";import{A as b}from"./app-layout-BUlHJEIw.js";import N from"./BorrowerInfoCard-BXoURigM.js";import L from"./RepaymentsTab-DPooXeqd.js";import g from"./LoanTermsTab-BXhm_rA5.js";import T from"./LoanScheduleTab-q1xPJr3M.js";import w from"./LoanCollateralTab-B-q7Hebk.js";import S from"./LoanFilesTab-DW1Y4AVc.js";import k from"./CoBorrowerTab-BcYv92IK.js";import C from"./LoanCommentsTab-DgCJ66Ts.js";import"./app-DFC8ppuA.js";import"./button-BT8l82O1.js";import"./utils-CFcDjcb_.js";import"./sheet-KTeoO0_X.js";import"./index-CSfBvJPP.js";import"./index-DCpgsalv.js";import"./index-CIAlwk6f.js";import"./createLucideIcon-292lA348.js";import"./index-BpvsPxZt.js";import"./index-sJV3ACG6.js";import"./index-D_fJ_aXj.js";import"./routes-B8UsKWZ0.js";import"./app-logo-icon-BxrI132f.js";import"./square-pen-M3xlYcxJ.js";const a=t=>Array.isArray(t)?t:t&&typeof t=="object"?Object.values(t):[];function Z({borrower:t,collaterals:d=[],activeLoan:x=null,repayments:h=[]}){const[n,y]=o.useState("repayments");if(!t)return e.jsx("div",{className:"p-6",children:"No borrower data provided."});const l=o.useMemo(()=>({...t,loans:a(t.loans),files:a(t.files),coBorrowers:a(t.coBorrowers),comments:a(t.comments),amortizationSchedule:a(t.amortizationSchedule)}),[t]),i=a(d),c=a(h??t.repayments),s=x??l.loans[0]??{loanNo:"-",released:"",maturity:"",repayment:"",principal:0,interest:"",interestType:"",penalty:0,due:0,balance:0,status:""},j=[{title:"Borrowers",href:"/borrowers"},{title:t.name,href:`/borrowers/${t.id}`}],m=l.amortizationSchedule,p=o.useMemo(()=>[{key:"repayments",label:"Repayments",content:e.jsx(L,{repayments:c})},{key:"loanTerms",label:"Loan Terms",content:e.jsx(g,{loan:s})},{key:"loanSchedule",label:"Loan Schedule",content:e.jsx(T,{amortizationSchedule:m})},{key:"loanCollateral",label:"Loan Collateral",content:e.jsx(w,{collaterals:i})},{key:"loanFiles",label:"Loan Files",content:e.jsx(S,{borrower:l})},{key:"coBorrower",label:"Co-Borrower",content:e.jsx(k,{borrower:l})},{key:"loanComments",label:"Loan Comments",content:e.jsx(C,{comments:t.comments??[]})}],[c,s,m,i,l]),f=p.find(r=>r.key===n);return e.jsxs(b,{breadcrumbs:j,children:[e.jsx(u,{title:`Borrower: ${t.name}`}),e.jsx(N,{borrower:t}),e.jsxs("div",{className:"m-4 overflow-x-auto mb-4",children:[e.jsx("p",{className:"m-2 text-1xl font-semibold",children:"Active Loan"}),e.jsxs("table",{className:"min-w-full bg-white border border-white rounded-lg shadow-sm",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Loan No."}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Released"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Maturity"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Repayment"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Principal"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Interest"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Interest Type"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Penalty"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Due"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Balance"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Status"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2",children:s.loanNo}),e.jsx("td",{className:"px-3 py-2",children:s.released}),e.jsx("td",{className:"px-3 py-2",children:s.maturity}),e.jsx("td",{className:"px-3 py-2",children:s.repayment}),e.jsxs("td",{className:"px-3 py-2",children:["₱",s.principal.toLocaleString()]}),e.jsx("td",{className:"px-3 py-2",children:s.interest}),e.jsx("td",{className:"px-3 py-2",children:s.interestType}),e.jsx("td",{className:"px-3 py-2",children:s.penalty}),e.jsxs("td",{className:"px-3 py-2",children:["₱",s.due.toLocaleString()]}),e.jsxs("td",{className:"px-3 py-2",children:["₱",s.balance.toLocaleString()]}),e.jsx("td",{className:"px-3 py-2",children:s.status})]})})]})]}),e.jsxs("div",{className:"m-4 bg-white rounded-lg shadow space-y-2 mb-6 border border-gray-100",children:[e.jsx("div",{className:"flex gap-2 overflow-hidden",children:p.map(r=>e.jsx("button",{onClick:()=>y(r.key),className:`px-4 py-2 font-medium whitespace-nowrap transition-colors duration-150 ${n===r.key?"bg-[#D97706] text-white border-b-2 border-orange-500 shadow-sm":"bg-white text-gray-600 border-b-2 border-transparent hover:text-gray-800"}`,children:r.label},r.key))}),e.jsx("div",{className:"mx-2",children:f?.content})]})]})}export{Z as default};
