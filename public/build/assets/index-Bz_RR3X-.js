import{c as F,r as A,j as t,H as B,L as C,a as R}from"./app-0d3sklFQ.js";import{B as $}from"./button-BT8l82O1.js";import{A as H}from"./app-layout-BUlHJEIw.js";import{s as I}from"./index-ikzcNs2d.js";import{E as q}from"./eye-Dme97KPp.js";import{S as z}from"./square-pen-M3xlYcxJ.js";import"./app-DFC8ppuA.js";import"./utils-CFcDjcb_.js";import"./sheet-KTeoO0_X.js";import"./index-CSfBvJPP.js";import"./index-DCpgsalv.js";import"./index-CIAlwk6f.js";import"./createLucideIcon-292lA348.js";import"./index-BpvsPxZt.js";import"./index-sJV3ACG6.js";import"./index-D_fJ_aXj.js";import"./routes-B8UsKWZ0.js";import"./app-logo-icon-BxrI132f.js";const P=[{title:"System Users",href:"/users"}];function ie(s){const e=F.c(27),{users:x}=s,[i,E]=A.useState(""),[r,U]=A.useState("all");let f;e:{if(Array.isArray(x)){f=x;break e}if(x&&Array.isArray(x.data)){f=x.data;break e}let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0],f=a}const L=f;let p;if(e[1]!==L||e[2]!==i||e[3]!==r){const a=i.trim().toLowerCase();p=L.filter(l=>{const _=a.length===0||[l.username||"",l.fName||"",l.lName||"",`${l.fName||""} ${l.lName||""}`,l.role||"",l.status||""].filter(Boolean).join(" ").toLowerCase().includes(a),k=r==="all"||l.status&&l.status.toLowerCase()===r;return _&&k}),e[1]=L,e[2]=i,e[3]=r,e[4]=p}else p=e[4];const h=p;let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsx(B,{title:"System Users"}),e[5]=u):u=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=a=>E(a.target.value),e[6]=y):y=e[6];let o;e[7]!==i?(o=t.jsx("input",{type:"search",value:i,onChange:y,placeholder:"Search usersâ€¦",className:"w-full md:max-w-sm rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e[7]=i,e[8]=o):o=e[8];let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("label",{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:"Status"}),e[9]=g):g=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=a=>U(a.target.value),e[10]=j):j=e[10];let N,b,v;e[11]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("option",{value:"all",children:"All"}),v=t.jsx("option",{value:"active",children:"Active"}),N=t.jsx("option",{value:"inactive",children:"Inactive"}),e[11]=N,e[12]=b,e[13]=v):(N=e[11],b=e[12],v=e[13]);let c;e[14]!==r?(c=t.jsxs("div",{className:"flex items-center gap-3",children:[g,t.jsxs("select",{id:"status-filter",value:r,onChange:j,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[b,v,N]})]}),e[14]=r,e[15]=c):c=e[15];let n;e[16]!==c||e[17]!==o?(n=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o,c]}),e[16]=c,e[17]=o,e[18]=n):n=e[18];let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("thead",{className:"bg-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"User No."}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Username"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Full Name"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Role"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Status"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Last Login"}),t.jsx("th",{className:"text-center px-4 py-2 font-medium text-gray-700",children:"Actions"})]})}),e[19]=S):S=e[19];let m;e[20]!==h?(m=h.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-500",children:"No users found."})}):h.map(D),e[20]=h,e[21]=m):m=e[21];let d;e[22]!==m?(d=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full bg-white border rounded-lg shadow-sm",children:[S,t.jsx("tbody",{children:m})]})}),e[22]=m,e[23]=d):d=e[23];let w;return e[24]!==n||e[25]!==d?(w=t.jsxs(H,{breadcrumbs:P,children:[u,t.jsxs("div",{className:"w-full h-full mx-auto bg-white shadow-lg rounded-2xl p-10 mb-16 border border-gray-100 space-y-6",children:[n,d]})]}),e[24]=n,e[25]=d,e[26]=w):w=e[26],w}function D(s){return t.jsxs("tr",{onClick:e=>{e.target.closest("a")||R.visit(I("users.show",s.id))},className:"border-b hover:bg-gray-50 cursor-pointer",children:[t.jsx("td",{className:"px-4 py-2",children:s.id}),t.jsx("td",{className:"px-4 py-2",children:s.username}),t.jsx("td",{className:"px-4 py-2",children:`${s.fName} ${s.lName}`}),t.jsx("td",{className:"px-4 py-2",children:s.role}),t.jsx("td",{className:"px-4 py-2",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.status?.toLowerCase()==="active"?"bg-green-100 text-green-800":s.status?.toLowerCase()==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s.status||"N/A"})}),t.jsx("td",{className:"px-4 py-2",children:s.lastLogin}),t.jsxs("td",{className:"px-4 py-2 text-center space-x-2",children:[t.jsx(C,{href:`/users/${s.id}`,children:t.jsx($,{variant:"default",className:"p-1",children:t.jsx(q,{className:"h-4 w-4"})})}),t.jsx(C,{href:`/users/${s.id}/edit`,children:t.jsx($,{variant:"default",className:"p-1",children:t.jsx(z,{className:"h-4 w-4"})})})]})]},s.id)}export{ie as default};
