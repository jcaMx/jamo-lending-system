import{c as F,r as A,j as t,H as B,L as C,a as H}from"./app-BRqMUDle.js";import{c as I,B as $}from"./index-CP3CLzCk.js";import{A as R}from"./app-layout-BOi6nSwN.js";import{E as q}from"./eye-DryJtLD-.js";import"./app-2n5eZ1ed.js";import"./utils-D0Zg16Wk.js";import"./index-C5BaN0Sf.js";import"./index-B59bIE-Z.js";import"./routes-D939kiBV.js";const z=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],M=I("SquarePen",z),P=[{title:"System Users",href:"/users"}];function Y(s){const e=F.c(27),{users:x}=s,[c,_]=A.useState(""),[r,k]=A.useState("all");let f;e:{if(Array.isArray(x)){f=x;break e}if(x&&Array.isArray(x.data)){f=x.data;break e}let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[0]=a):a=e[0],f=a}const L=f;let h;if(e[1]!==L||e[2]!==c||e[3]!==r){const a=c.trim().toLowerCase();h=L.filter(l=>{const E=a.length===0||[l.username||"",l.fName||"",l.lName||"",`${l.fName||""} ${l.lName||""}`,l.role||"",l.status||""].filter(Boolean).join(" ").toLowerCase().includes(a),U=r==="all"||l.status&&l.status.toLowerCase()===r;return E&&U}),e[1]=L,e[2]=c,e[3]=r,e[4]=h}else h=e[4];const u=h;let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(B,{title:"System Users"}),e[5]=p):p=e[5];let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=a=>_(a.target.value),e[6]=y):y=e[6];let o;e[7]!==c?(o=t.jsx("input",{type:"search",value:c,onChange:y,placeholder:"Search usersâ€¦",className:"w-full md:max-w-sm rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200"}),e[7]=c,e[8]=o):o=e[8];let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("label",{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:"Status"}),e[9]=g):g=e[9];let j;e[10]===Symbol.for("react.memo_cache_sentinel")?(j=a=>k(a.target.value),e[10]=j):j=e[10];let N,b,v;e[11]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx("option",{value:"all",children:"All"}),v=t.jsx("option",{value:"active",children:"Active"}),N=t.jsx("option",{value:"inactive",children:"Inactive"}),e[11]=N,e[12]=b,e[13]=v):(N=e[11],b=e[12],v=e[13]);let i;e[14]!==r?(i=t.jsxs("div",{className:"flex items-center gap-3",children:[g,t.jsxs("select",{id:"status-filter",value:r,onChange:j,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200",children:[b,v,N]})]}),e[14]=r,e[15]=i):i=e[15];let n;e[16]!==i||e[17]!==o?(n=t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[o,i]}),e[16]=i,e[17]=o,e[18]=n):n=e[18];let S;e[19]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx("thead",{className:"bg-gray-100",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"User No."}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Username"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Full Name"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Role"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Status"}),t.jsx("th",{className:"text-left px-4 py-2 font-medium text-gray-700",children:"Last Login"}),t.jsx("th",{className:"text-center px-4 py-2 font-medium text-gray-700",children:"Actions"})]})}),e[19]=S):S=e[19];let m;e[20]!==u?(m=u.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:7,className:"text-center py-6 text-gray-500",children:"No users found."})}):u.map(D),e[20]=u,e[21]=m):m=e[21];let d;e[22]!==m?(d=t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"min-w-full bg-white border rounded-lg shadow-sm",children:[S,t.jsx("tbody",{children:m})]})}),e[22]=m,e[23]=d):d=e[23];let w;return e[24]!==n||e[25]!==d?(w=t.jsxs(R,{breadcrumbs:P,children:[p,t.jsxs("div",{className:"w-full h-full mx-auto bg-white shadow-lg rounded-2xl p-10 mb-16 border border-gray-100 space-y-6",children:[n,d]})]}),e[24]=n,e[25]=d,e[26]=w):w=e[26],w}function D(s){return t.jsxs("tr",{onClick:e=>{e.target.closest("a")||H.visit(route("users.show",s.id))},className:"border-b hover:bg-gray-50 cursor-pointer",children:[t.jsx("td",{className:"px-4 py-2",children:s.id}),t.jsx("td",{className:"px-4 py-2",children:s.username}),t.jsx("td",{className:"px-4 py-2",children:`${s.fName} ${s.lName}`}),t.jsx("td",{className:"px-4 py-2",children:s.role}),t.jsx("td",{className:"px-4 py-2",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.status?.toLowerCase()==="active"?"bg-green-100 text-green-800":s.status?.toLowerCase()==="inactive"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:s.status||"N/A"})}),t.jsx("td",{className:"px-4 py-2",children:s.lastLogin}),t.jsxs("td",{className:"px-4 py-2 text-center space-x-2",children:[t.jsx(C,{href:`/users/${s.id}`,children:t.jsx($,{variant:"default",className:"p-1",children:t.jsx(q,{className:"h-4 w-4"})})}),t.jsx(C,{href:`/users/${s.id}/edit`,children:t.jsx($,{variant:"default",className:"p-1",children:t.jsx(M,{className:"h-4 w-4"})})})]})]},s.id)}export{Y as default};
