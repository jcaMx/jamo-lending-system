import{c as ae,r as a,j as t,a as ne,H as ce}from"./app-BRqMUDle.js";import{A as ie}from"./app-layout-BOi6nSwN.js";import{S as me}from"./search-CkNjepHu.js";import"./app-2n5eZ1ed.js";import"./index-CP3CLzCk.js";import"./utils-D0Zg16Wk.js";import"./index-C5BaN0Sf.js";import"./index-B59bIE-Z.js";import"./routes-D939kiBV.js";const de=[{title:"Repayments",href:"/repayments"}];function Ne(S){const e=ae.c(70),{borrowers:U,collectors:V}=S,[s,Y]=a.useState(""),[r,Z]=a.useState(null),[n,ee]=a.useState(""),[o,te]=a.useState(""),[c,le]=a.useState(""),[i,se]=a.useState(""),[m,oe]=a.useState("");let _;if(e[0]!==U||e[1]!==s){let l;e[3]!==s?(l=re=>re.name.toLowerCase().includes(s.toLowerCase()),e[3]=s,e[4]=l):l=e[4],_=U.filter(l),e[0]=U,e[1]=s,e[2]=_}else _=e[2];const w=_;let C;e[5]!==n||e[6]!==c||e[7]!==i||e[8]!==o||e[9]!==m||e[10]!==r?.id||e[11]!==r?.loanNo?(C=l=>{l.preventDefault(),ne.post("/repayments/store",{borrower_id:r?.id,loanNo:r?.loanNo,amount:n,method:o,collectedBy:c,collectionDate:i,referenceNumber:m})},e[5]=n,e[6]=c,e[7]=i,e[8]=o,e[9]=m,e[10]=r?.id,e[11]=r?.loanNo,e[12]=C):C=e[12];const W=C;let k;e[13]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(ce,{title:"Add Repayment"}),e[13]=k):k=e[13];let B;e[14]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx("div",{className:"border-b-4 border-[#FABF24] rounded-t-lg pb-3 mb-6 bg-[#FFF8E2] p-5",children:t.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Repayment"})}),e[14]=B):B=e[14];let A;e[15]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Borrower"}),e[15]=A):A=e[15];let R;e[16]===Symbol.for("react.memo_cache_sentinel")?(R=l=>Y(l.target.value),e[16]=R):R=e[16];let d;e[17]!==s?(d=t.jsx("input",{type:"text",value:s,onChange:R,placeholder:"Search borrower...",className:"w-full border rounded-lg p-2 pr-10"}),e[17]=s,e[18]=d):d=e[18];let F;e[19]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx(me,{className:"absolute right-3 top-2.5 h-4 w-4 text-gray-500"}),e[19]=F):F=e[19];let u;e[20]!==d?(u=t.jsxs("div",{className:"relative",children:[d,F]}),e[20]=d,e[21]=u):u=e[21];let h;e[22]!==w||e[23]!==s.length?(h=s.length>0&&t.jsx("div",{className:"border rounded-lg mt-2 bg-white shadow max-h-32 overflow-y-auto",children:w.length>0?w.map(l=>t.jsx("div",{onClick:()=>{Z(l),Y(l.name)},className:"px-3 py-2 hover:bg-gray-100 cursor-pointer",children:l.name},l.id)):t.jsx("div",{className:"px-3 py-2 text-gray-500",children:"No results found"})}),e[22]=w,e[23]=s.length,e[24]=h):h=e[24];let f;e[25]!==h||e[26]!==u?(f=t.jsxs("div",{className:"col-span-2",children:[A,u,h]}),e[25]=h,e[26]=u,e[27]=f):f=e[27];let E;e[28]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loan Number"}),e[28]=E):E=e[28];const X=r?.loanNo||"";let b;e[29]!==X?(b=t.jsxs("div",{children:[E,t.jsx("input",{type:"text",value:X,readOnly:!0,className:"w-full border rounded-lg p-2 bg-gray-100"})]}),e[29]=X,e[30]=b):b=e[30];let D;e[31]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Amount"}),e[31]=D):D=e[31];let G;e[32]===Symbol.for("react.memo_cache_sentinel")?(G=l=>ee(l.target.value),e[32]=G):G=e[32];let x;e[33]!==n?(x=t.jsxs("div",{children:[D,t.jsx("input",{type:"number",value:n,onChange:G,className:"w-full border rounded-lg p-2"})]}),e[33]=n,e[34]=x):x=e[34];let L;e[35]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Payment Method"}),e[35]=L):L=e[35];let T;e[36]===Symbol.for("react.memo_cache_sentinel")?(T=l=>te(l.target.value),e[36]=T):T=e[36];let H,M,O,P;e[37]===Symbol.for("react.memo_cache_sentinel")?(H=t.jsx("option",{value:"",children:"Select method"}),M=t.jsx("option",{value:"Cash",children:"Cash"}),O=t.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),P=t.jsx("option",{value:"Gcash",children:"Gcash"}),e[37]=H,e[38]=M,e[39]=O,e[40]=P):(H=e[37],M=e[38],O=e[39],P=e[40]);let p;e[41]!==o?(p=t.jsxs("div",{children:[L,t.jsxs("select",{value:o,onChange:T,className:"w-full border rounded-lg p-2",children:[H,M,O,P]})]}),e[41]=o,e[42]=p):p=e[42];let y;e[43]!==o||e[44]!==m?(y=(o==="Gcash"||o==="Bank Transfer"||o==="Gcash")&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reference Number"}),t.jsx("input",{value:m,onChange:l=>oe(l.target.value),placeholder:"Enter reference number",className:"w-full border rounded-lg p-2"})]}),e[43]=o,e[44]=m,e[45]=y):y=e[45];let $;e[46]===Symbol.for("react.memo_cache_sentinel")?($=t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collected By"}),e[46]=$):$=e[46];let q;e[47]===Symbol.for("react.memo_cache_sentinel")?(q=l=>le(l.target.value),e[47]=q):q=e[47];let z;e[48]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsx("option",{value:"",children:"Select collector"}),e[48]=z):z=e[48];let g;e[49]!==V?(g=V.map(ue),e[49]=V,e[50]=g):g=e[50];let j;e[51]!==c||e[52]!==g?(j=t.jsxs("div",{children:[$,t.jsxs("select",{value:c,onChange:q,className:"w-full border rounded-lg p-2",children:[z,g]})]}),e[51]=c,e[52]=g,e[53]=j):j=e[53];let I;e[54]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Collection Date"}),e[54]=I):I=e[54];let J;e[55]===Symbol.for("react.memo_cache_sentinel")?(J=l=>se(l.target.value),e[55]=J):J=e[55];let v;e[56]!==i?(v=t.jsxs("div",{children:[I,t.jsx("input",{type:"date",value:i,onChange:J,className:"w-full border rounded-lg p-2"})]}),e[56]=i,e[57]=v):v=e[57];let N;e[58]!==f||e[59]!==b||e[60]!==x||e[61]!==p||e[62]!==y||e[63]!==j||e[64]!==v?(N=t.jsxs("section",{children:[B,t.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-5",children:[f,b,x,p,y,j,v]})]}),e[58]=f,e[59]=b,e[60]=x,e[61]=p,e[62]=y,e[63]=j,e[64]=v,e[65]=N):N=e[65];let K;e[66]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"px-6 py-2 text-black bg-[#FABF24] rounded-lg hover:bg-amber-600 ",children:"Submit Repayment"})}),e[66]=K):K=e[66];let Q;return e[67]!==W||e[68]!==N?(Q=t.jsxs(ie,{breadcrumbs:de,children:[k,t.jsx("div",{className:"w-full h-full mx-auto bg-white shadow-lg rounded-2xl p-10 mb-16 border border-gray-100",children:t.jsxs("form",{onSubmit:W,className:"space-y-10",children:[N,K]})})]}),e[67]=W,e[68]=N,e[69]=Q):Q=e[69],Q}function ue(S,e){return t.jsx("option",{value:S,children:S},e)}export{Ne as default};
