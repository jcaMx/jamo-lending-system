import{c as H,r as A,j as t,H as R,a as T}from"./app-BRqMUDle.js";import{A as D}from"./app-layout-BOi6nSwN.js";import{B as G}from"./index-CP3CLzCk.js";import{S as I}from"./search-CkNjepHu.js";import"./app-2n5eZ1ed.js";import"./utils-D0Zg16Wk.js";import"./index-C5BaN0Sf.js";import"./index-B59bIE-Z.js";import"./routes-D939kiBV.js";function Y(s){const e=H.c(34),{borrowers:o}=s;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{title:"Borrowers",href:"/borrowers"}],e[0]=i):i=e[0];const B=i,[r,E]=A.useState(""),[l,k]=A.useState("all");let u;if(e[1]!==o||e[2]!==r||e[3]!==l){let a;e[5]!==r||e[6]!==l?(a=_=>{const q=_.name.toLowerCase().includes(r.toLowerCase())||_.email.toLowerCase().includes(r.toLowerCase())||_.city.toLowerCase().includes(r.toLowerCase()),$=l==="all"?!0:(_.activeLoan?.status??"").toLowerCase()===l.toLowerCase();return q&&$},e[5]=r,e[6]=l,e[7]=a):a=e[7],u=o.filter(a),e[1]=o,e[2]=r,e[3]=l,e[4]=u}else u=e[4];const f=u;let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(R,{title:"Borrowers List"}),e[8]=p):p=e[8];let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx("h1",{className:"text-4xl font-semibold text-gray-800 tracking-tight",children:"Borrowers"}),e[9]=h):h=e[9];let y;e[10]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx(I,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),e[10]=y):y=e[10];let g;e[11]===Symbol.for("react.memo_cache_sentinel")?(g=a=>E(a.target.value),e[11]=g):g=e[11];let c;e[12]!==r?(c=t.jsxs("div",{className:"relative w-full md:w-72",children:[y,t.jsx("input",{type:"search",value:r,onChange:g,placeholder:"Search borrowers...",className:"w-full rounded-lg border border-gray-300 pl-10 pr-4 py-2 text-sm text-gray-700 placeholder-gray-400 focus:border-[#FABF24] focus:ring-2 focus:ring-[#FAE6A0] focus:outline-none transition"})]}),e[12]=r,e[13]=c):c=e[13];let j;e[14]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("label",{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:"Status:"}),e[14]=j):j=e[14];let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=a=>k(a.target.value),e[15]=b):b=e[15];let w,N,v,S;e[16]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("option",{value:"all",children:"All"}),N=t.jsx("option",{value:"active",children:"Active"}),v=t.jsx("option",{value:"completed",children:"Completed"}),S=t.jsx("option",{value:"delinquent",children:"Delinquent"}),e[16]=w,e[17]=N,e[18]=v,e[19]=S):(w=e[16],N=e[17],v=e[18],S=e[19]);let n;e[20]!==l?(n=t.jsxs("div",{className:"flex items-center gap-2",children:[j,t.jsxs("select",{id:"status-filter",value:l,onChange:b,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-700 focus:border-[#FABF24] focus:ring-2 focus:ring-[#FAE6A0] focus:outline-none transition",children:[w,N,v,S]})]}),e[20]=l,e[21]=n):n=e[21];let C;e[22]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(G,{asChild:!0,className:"bg-[#FABF24] text-gray-900 font-medium px-4 py-2 rounded-lg shadow-sm hover:bg-[#f8b80f] transition-colors duration-200 inline-flex items-center",children:t.jsx("a",{href:"/borrowers/add",children:"+ Add Borrower"})}),e[22]=C):C=e[22];let m;e[23]!==n||e[24]!==c?(m=t.jsxs("div",{className:"m-10 flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[h,t.jsxs("div",{className:"flex flex-1 flex-col md:flex-row gap-4 md:gap-3 md:items-center md:justify-end",children:[c,n,C]})]}),e[23]=n,e[24]=c,e[25]=m):m=e[25];let F;e[26]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsx("thead",{className:"bg-gray-50",children:t.jsx("tr",{children:["#","Name","Occupation","Gender","City","Email","Mobile","Status"].map(O)})}),e[26]=F):F=e[26];let d;e[27]!==f?(d=f.length>0?f.map(M):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center py-6 text-gray-500 text-sm italic",children:"No borrowers found matching your criteria."})}),e[27]=f,e[28]=d):d=e[28];let x;e[29]!==d?(x=t.jsx("div",{className:"mx-10 overflow-x-auto bg-white rounded-xl border border-gray-200 shadow-md",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[F,t.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:d})]})}),e[29]=d,e[30]=x):x=e[30];let L;return e[31]!==m||e[32]!==x?(L=t.jsxs(D,{breadcrumbs:B,children:[p,m,x]}),e[31]=m,e[32]=x,e[33]=L):L=e[33],L}function M(s,e){const o=s.activeLoan?.status?.toLowerCase()??"n/a",i=o==="active"?"bg-green-100 text-green-800":o==="completed"?"bg-gray-100 text-gray-800":o==="delinquent"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800";return t.jsxs("tr",{className:"hover:bg-[#FFF8E6] cursor-pointer transition-colors duration-150",onClick:()=>T.visit(`/borrowers/${s.id}`),children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:e+1}),t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s.name}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.occupation}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.gender}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.city}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.email}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.mobile}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${i}`,children:s.activeLoan?.status??"N/A"})})]},s.id)}function O(s){return t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:s},s)}export{Y as default};
