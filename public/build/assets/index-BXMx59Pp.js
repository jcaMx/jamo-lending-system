import{c as ee,r as K,j as t,a as te,H as se}from"./app-0d3sklFQ.js";import{A as re}from"./app-layout-BUlHJEIw.js";import{B as Q}from"./button-BT8l82O1.js";import{S as le}from"./search-Bk5A5NOi.js";import"./app-DFC8ppuA.js";import"./utils-CFcDjcb_.js";import"./sheet-KTeoO0_X.js";import"./index-CSfBvJPP.js";import"./index-DCpgsalv.js";import"./index-CIAlwk6f.js";import"./createLucideIcon-292lA348.js";import"./index-BpvsPxZt.js";import"./index-sJV3ACG6.js";import"./index-D_fJ_aXj.js";import"./routes-B8UsKWZ0.js";import"./app-logo-icon-BxrI132f.js";function _e(r){const e=ee.c(53),{borrowers:l}=r;let y;e[0]===Symbol.for("react.memo_cache_sentinel")?(y=[{title:"Borrowers",href:"/borrowers"}],e[0]=y):y=e[0];const U=y,[a,X]=K.useState(""),[o,Y]=K.useState("all"),[i,T]=K.useState(1),V=ce,Z=ne;let N;if(e[1]!==l||e[2]!==a||e[3]!==o){let s;e[5]!==a||e[6]!==o?(s=g=>{const z=V(g).toLowerCase().includes(a.toLowerCase())||(g.email??"").toLowerCase().includes(a.toLowerCase())||(g.city??"").toLowerCase().includes(a.toLowerCase()),J=o==="all"?!0:(g.activeLoan?.status??"").toLowerCase()===o.toLowerCase();return z&&J},e[5]=a,e[6]=o,e[7]=s):s=e[7],N=l.filter(s),e[1]=l,e[2]=a,e[3]=o,e[4]=N}else N=e[4];const j=N,w=(i-1)*10,D=w+10;let v;e[8]!==D||e[9]!==j||e[10]!==w?(v=j.slice(w,D),e[8]=D,e[9]=j,e[10]=w,e[11]=v):v=e[11];const S=v,b=Math.ceil(j.length/10);let C;e[12]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(se,{title:"Borrowers List"}),e[12]=C):C=e[12];let _;e[13]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx("h1",{className:"text-4xl font-semibold text-gray-800 tracking-tight",children:"Borrowers"}),e[13]=_):_=e[13];let A;e[14]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(le,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),e[14]=A):A=e[14];let F;e[15]===Symbol.for("react.memo_cache_sentinel")?(F=s=>X(s.target.value),e[15]=F):F=e[15];let n;e[16]!==a?(n=t.jsxs("div",{className:"relative w-full md:w-72",children:[A,t.jsx("input",{type:"search",value:a,onChange:F,placeholder:"Search borrowers...",className:"w-full rounded-lg border border-gray-300 pl-10 pr-4 py-2 text-sm text-gray-700 placeholder-gray-400 focus:border-[#FABF24] focus:ring-2 focus:ring-[#FAE6A0] focus:outline-none transition"})]}),e[16]=a,e[17]=n):n=e[17];let L;e[18]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("label",{htmlFor:"status-filter",className:"text-sm font-medium text-gray-700",children:"Status:"}),e[18]=L):L=e[18];let B;e[19]===Symbol.for("react.memo_cache_sentinel")?(B=s=>{Y(s.target.value),T(1)},e[19]=B):B=e[19];let E,k,P,$;e[20]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsx("option",{value:"all",children:"All"}),k=t.jsx("option",{value:"active",children:"Active"}),P=t.jsx("option",{value:"completed",children:"Completed"}),$=t.jsx("option",{value:"delinquent",children:"Delinquent"}),e[20]=E,e[21]=k,e[22]=P,e[23]=$):(E=e[20],k=e[21],P=e[22],$=e[23]);let c;e[24]!==o?(c=t.jsxs("div",{className:"flex items-center gap-2",children:[L,t.jsxs("select",{id:"status-filter",value:o,onChange:B,className:"rounded-lg border border-gray-300 px-3 py-2 text-sm text-gray-700 focus:border-[#FABF24] focus:ring-2 focus:ring-[#FAE6A0] focus:outline-none transition",children:[E,k,P,$]})]}),e[24]=o,e[25]=c):c=e[25];let q;e[26]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(Q,{asChild:!0,className:"bg-[#FABF24] text-gray-900 font-medium px-4 py-2 rounded-lg shadow-sm hover:bg-[#f8b80f] transition-colors duration-200 inline-flex items-center",children:t.jsx("a",{href:"/borrowers/add",children:"+ Add Borrower"})}),e[26]=q):q=e[26];let m;e[27]!==c||e[28]!==n?(m=t.jsxs("div",{className:"m-10 flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[_,t.jsxs("div",{className:"flex flex-1 flex-col md:flex-row gap-4 md:gap-3 md:items-center md:justify-end",children:[n,c,q]})]}),e[27]=c,e[28]=n,e[29]=m):m=e[29];let R;e[30]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("thead",{className:"bg-gray-50",children:t.jsx("tr",{children:["#","Name","Occupation","Gender","City","Email","Mobile","Status"].map(ie)})}),e[30]=R):R=e[30];let d;e[31]!==i||e[32]!==S?(d=S.length>0?S.map((s,g)=>{const W=V(s),{statusClasses:z,statusLabel:J}=Z(s);return t.jsxs("tr",{className:"hover:bg-[#FFF8E6] cursor-pointer transition-colors duration-150",onClick:()=>te.visit(`/borrowers/${s.id}`),children:[t.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:(i-1)*10+g+1}),t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:W}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.occupation??"N/A"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.gender??"N/A"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.city??"N/A"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.email??"N/A"}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:s.mobile??"N/A"}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z}`,children:J})})]},s.id)}):t.jsx("tr",{children:t.jsx("td",{colSpan:8,className:"text-center py-6 text-gray-500 text-sm italic",children:"No borrowers found matching your criteria."})}),e[31]=i,e[32]=S,e[33]=d):d=e[33];let x;e[34]!==d?(x=t.jsx("div",{className:"mx-10 overflow-x-auto bg-white rounded-xl border border-gray-200 shadow-md",children:t.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[R,t.jsx("tbody",{className:"divide-y divide-gray-100 bg-white",children:d})]})}),e[34]=d,e[35]=x):x=e[35];const G=i===1;let H;e[36]===Symbol.for("react.memo_cache_sentinel")?(H=()=>T(oe),e[36]=H):H=e[36];let u;e[37]!==G?(u=t.jsx(Q,{disabled:G,onClick:H,className:"bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 disabled:opacity-40",children:"Previous"}),e[37]=G,e[38]=u):u=e[38];let f;e[39]!==i||e[40]!==b?(f=t.jsxs("span",{className:"text-gray-700 text-sm",children:["Page ",i," of ",b]}),e[39]=i,e[40]=b,e[41]=f):f=e[41];const O=i===b||b===0;let I;e[42]===Symbol.for("react.memo_cache_sentinel")?(I=()=>T(ae),e[42]=I):I=e[42];let p;e[43]!==O?(p=t.jsx(Q,{disabled:O,onClick:I,className:"bg-[#FABF24] text-gray-900 px-4 py-2 rounded-lg hover:bg-[#f8b80f] disabled:opacity-40",children:"Next"}),e[43]=O,e[44]=p):p=e[44];let h;e[45]!==u||e[46]!==f||e[47]!==p?(h=t.jsxs("div",{className:"mx-10 flex justify-between items-center py-6",children:[u,f,p]}),e[45]=u,e[46]=f,e[47]=p,e[48]=h):h=e[48];let M;return e[49]!==m||e[50]!==x||e[51]!==h?(M=t.jsxs(re,{breadcrumbs:U,children:[" ",C,m,x,h]}),e[49]=m,e[50]=x,e[51]=h,e[52]=M):M=e[52],M}function ae(r){return r+1}function oe(r){return r-1}function ie(r){return t.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold text-gray-700 uppercase tracking-wider",children:r},r)}function ne(r){const e=r.activeLoan?.status?.trim()||"",l=e?e.toLowerCase():"n/a";return{statusClasses:l==="active"?"bg-green-100 text-green-800":l==="completed"?"bg-gray-100 text-gray-800":l==="delinquent"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",statusLabel:e||"N/A"}}function ce(r){const e=r.borrowerFirstName?.trim()||"",l=r.borrowerLastName?.trim()||"";return e||l?`${e} ${l}`.trim():"N/A"}export{_e as default};
